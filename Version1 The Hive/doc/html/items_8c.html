<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Projet L2 Informatique - The Hive: Référence du fichier src/items.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Projet L2 Informatique - The Hive
   </div>
   <div id="projectbrief">Documentation jeu The Hive (Projet L2 Informatique)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Généré par Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Recherche');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Recherche');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Fonctions</a>  </div>
  <div class="headertitle">
<div class="title">Référence du fichier items.c</div>  </div>
</div><!--header-->
<div class="contents">

<p>Items (création, affichage, génération aléatoire lors de fouille d'hexagones)  
<a href="#details">Plus de détails...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
<code>#include &quot;<a class="el" href="commun_8h_source.html">lib/commun.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Graphe des dépendances par inclusion de items.c:</div>
<div class="dyncontent">
<div class="center"><img src="items_8c__incl.png" border="0" usemap="#src_2items_8c" alt=""/></div>
<map name="src_2items_8c" id="src_2items_8c">
<area shape="rect" id="node7" href="commun_8h.html" title="Tous les prototypes de fonctions, énumérations, structures, macros appelés dans plusieurs fichiers du..." alt="" coords="445,80,545,107"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Fonctions</h2></td></tr>
<tr class="memitem:a7305b870565393710d8794a7d1ac6d25"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structitem__t.html">item_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="items_8c.html#a7305b870565393710d8794a7d1ac6d25">creer_item</a> (char *chaine, <a class="el" href="commun_8h.html#adee610a3c7375031538811d29f6a4124">type_t</a> type, int attack0, int attack1, int attack2, int hitchance0, int hitchance1, int hitchance2, float defense, int equipable, int pc_nature, int pc_urban, int pc_military)</td></tr>
<tr class="memdesc:a7305b870565393710d8794a7d1ac6d25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Crée un item à partir des informations passées en paramètres.  <a href="#a7305b870565393710d8794a7d1ac6d25">Plus de détails...</a><br /></td></tr>
<tr class="separator:a7305b870565393710d8794a7d1ac6d25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bfcbccc63814dc4ba0642b7872e8681"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="items_8c.html#a6bfcbccc63814dc4ba0642b7872e8681">creation_tab_item</a> (<a class="el" href="structitem__t.html">item_t</a> *Tab_Items, int *nb_items)</td></tr>
<tr class="memdesc:a6bfcbccc63814dc4ba0642b7872e8681"><td class="mdescLeft">&#160;</td><td class="mdescRight">Récupère les items du fichier 'data/items.csv' et les stocke dans le tableau passé en paramètres.  <a href="#a6bfcbccc63814dc4ba0642b7872e8681">Plus de détails...</a><br /></td></tr>
<tr class="separator:a6bfcbccc63814dc4ba0642b7872e8681"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af20ce6de62a477209830e29feb783aa1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="items_8c.html#af20ce6de62a477209830e29feb783aa1">display_item</a> (<a class="el" href="structitem__t.html">item_t</a> item)</td></tr>
<tr class="memdesc:af20ce6de62a477209830e29feb783aa1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Affiche toutes les caractéristiques d'un item (nom, type, valeur d'attaque si arme, valeur de défense si armure, équipable ou non, pourcentage de chance de trouver cet item sur un hexagone de catégorie nature, urbain et militaire)  <a href="#af20ce6de62a477209830e29feb783aa1">Plus de détails...</a><br /></td></tr>
<tr class="separator:af20ce6de62a477209830e29feb783aa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b60c717462304f30e1266e9a5a9d020"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="items_8c.html#a2b60c717462304f30e1266e9a5a9d020">generate_items</a> (<a class="el" href="structitem__t.html">item_t</a> *Tab_Items, int nb_items_available, <a class="el" href="structperso__t.html">perso_t</a> *player, <a class="el" href="commun_8h.html#a730487a66d035e35d2c63cfa39cea020">categ_hexa</a> categ)</td></tr>
<tr class="memdesc:a2b60c717462304f30e1266e9a5a9d020"><td class="mdescLeft">&#160;</td><td class="mdescRight">Génère aléatoirement 0 à <a class="el" href="commun_8h.html#a36e5fda7aa9e2b6219f41c354ecc1c93" title="ITEMS_MAX représente le nombre maximum d&#39;items générés sur un hexagone de la carte. ">ITEMS_MAX</a> items en prenant en compte le pourcentage de chance des items d'apparaître dans un type d'hexagone en particulier.  <a href="#a2b60c717462304f30e1266e9a5a9d020">Plus de détails...</a><br /></td></tr>
<tr class="separator:a2b60c717462304f30e1266e9a5a9d020"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40672738b4eba05b66ae0a8127346356"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="items_8c.html#a40672738b4eba05b66ae0a8127346356">scavenge</a> (<a class="el" href="structcell__t.html">cell_t</a> map[<a class="el" href="commun_8h.html#af316c33cc298530f245e8b55330e86b5">D</a>][<a class="el" href="commun_8h.html#af316c33cc298530f245e8b55330e86b5">D</a>], <a class="el" href="structperso__t.html">perso_t</a> *player, <a class="el" href="structitem__t.html">item_t</a> *Tab_Items, int nb_items_available, <a class="el" href="structquete__t.html">quete_t</a> quete)</td></tr>
<tr class="memdesc:a40672738b4eba05b66ae0a8127346356"><td class="mdescLeft">&#160;</td><td class="mdescRight">Permet au joueur de fouiller l'hexagone sur lequel il se trouve pour récupérer des items.  <a href="#a40672738b4eba05b66ae0a8127346356">Plus de détails...</a><br /></td></tr>
<tr class="separator:a40672738b4eba05b66ae0a8127346356"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Description détaillée</h2>
<div class="textblock"><p>Items (création, affichage, génération aléatoire lors de fouille d'hexagones) </p>
<dl class="section author"><dt>Auteur</dt><dd>Mathilde Mottay, Anaïs Mottier, Clément Mainguy, Moustapha Tsamarayev </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2020 </dd></dl>
</div><h2 class="groupheader">Documentation des fonctions</h2>
<a id="a6bfcbccc63814dc4ba0642b7872e8681"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bfcbccc63814dc4ba0642b7872e8681">&#9670;&nbsp;</a></span>creation_tab_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int creation_tab_item </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structitem__t.html">item_t</a> *&#160;</td>
          <td class="paramname"><em>Tab_Items</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nb_items</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Récupère les items du fichier 'data/items.csv' et les stocke dans le tableau passé en paramètres. </p>
<p>Affiche un message d'erreur si fichier 'items.csv' introuvable </p><dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">Tab_Items</td><td>Tableau contenant tous les items disponibles dans le jeu </td></tr>
    <tr><td class="paramname">nb_items</td><td>Pointeur sur un entier correspondant au nombre d'items extraits du fichier externe </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>Un <em>int</em> : 1 si récupération des items réalisée avec succès. 0 sinon. </dd></dl>

</div>
</div>
<a id="a7305b870565393710d8794a7d1ac6d25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7305b870565393710d8794a7d1ac6d25">&#9670;&nbsp;</a></span>creer_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structitem__t.html">item_t</a> * creer_item </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>chaine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="commun_8h.html#adee610a3c7375031538811d29f6a4124">type_t</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>attack0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>attack1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>attack2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>hitchance0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>hitchance1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>hitchance2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>defense</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>equipable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pc_nature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pc_urban</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pc_military</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Crée un item à partir des informations passées en paramètres. </p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">chaine</td><td>Nom de l'item </td></tr>
    <tr><td class="paramname">type</td><td>Type de l'item </td></tr>
    <tr><td class="paramname">attack0</td><td>Valeur d'attaque si distance égale à 0 pendant un combat </td></tr>
    <tr><td class="paramname">attack1</td><td>Valeur d'attaque si distance égale à 1 pendant un combat </td></tr>
    <tr><td class="paramname">attack2</td><td>Valeur d'attaque si distance égale à 2 pendant un combat </td></tr>
    <tr><td class="paramname">hitchance0</td><td>Probabilité en pourcentage de toucher l'ennemi si distance égale à 0 pendant un combat </td></tr>
    <tr><td class="paramname">hitchance1</td><td>Probabilité en pourcentage de toucher l'ennemi si distance égale à 1 pendant un combat </td></tr>
    <tr><td class="paramname">hitchance2</td><td>Probabilité en pourcentage de toucher l'ennemi si distance égale à 2 pendant un combat </td></tr>
    <tr><td class="paramname">defense</td><td>Valeur de défense </td></tr>
    <tr><td class="paramname">equipable</td><td>Indicateur si l'item est équipable et où </td></tr>
    <tr><td class="paramname">pc_nature</td><td>Probabilité en pourcentage de trouver l'item créé dans un hexagone de catégorie nature </td></tr>
    <tr><td class="paramname">pc_urban</td><td>Probabilité en pourcentage de trouver l'item créé dans un hexagone de catégorie urbaine </td></tr>
    <tr><td class="paramname">pc_military</td><td>Probabilité en pourcentage de trouver l'item créé dans un hexagone de catégorie militaire </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>Un pointeur sur un objet de type <a class="el" href="structitem__t.html" title="Structure pour un item. ">item_t</a> correspondant à l'item créé </dd></dl>

</div>
</div>
<a id="af20ce6de62a477209830e29feb783aa1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af20ce6de62a477209830e29feb783aa1">&#9670;&nbsp;</a></span>display_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void display_item </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structitem__t.html">item_t</a>&#160;</td>
          <td class="paramname"><em>item</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Affiche toutes les caractéristiques d'un item (nom, type, valeur d'attaque si arme, valeur de défense si armure, équipable ou non, pourcentage de chance de trouver cet item sur un hexagone de catégorie nature, urbain et militaire) </p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">item</td><td>Item à afficher </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>Rien </dd></dl>

</div>
</div>
<a id="a2b60c717462304f30e1266e9a5a9d020"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b60c717462304f30e1266e9a5a9d020">&#9670;&nbsp;</a></span>generate_items()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void generate_items </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structitem__t.html">item_t</a> *&#160;</td>
          <td class="paramname"><em>Tab_Items</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nb_items_available</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structperso__t.html">perso_t</a> *&#160;</td>
          <td class="paramname"><em>player</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="commun_8h.html#a730487a66d035e35d2c63cfa39cea020">categ_hexa</a>&#160;</td>
          <td class="paramname"><em>categ</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Génère aléatoirement 0 à <a class="el" href="commun_8h.html#a36e5fda7aa9e2b6219f41c354ecc1c93" title="ITEMS_MAX représente le nombre maximum d&#39;items générés sur un hexagone de la carte. ">ITEMS_MAX</a> items en prenant en compte le pourcentage de chance des items d'apparaître dans un type d'hexagone en particulier. </p>
<p>Propose au joueur de récupérer les items générés </p><dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">Tab_Items</td><td>Tableau contenant tous les items disponibles dans le jeu </td></tr>
    <tr><td class="paramname">nb_items_available</td><td>Nombre d'items disponibles dans le jeu </td></tr>
    <tr><td class="paramname">player</td><td>Pointeur sur un objet de type <a class="el" href="structperso__t.html" title="Structure pour un personnage. ">perso_t</a> correspondant au joueur </td></tr>
    <tr><td class="paramname">categ</td><td>Catégorie de l'hexagone inspecté </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>Rien </dd></dl>

</div>
</div>
<a id="a40672738b4eba05b66ae0a8127346356"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40672738b4eba05b66ae0a8127346356">&#9670;&nbsp;</a></span>scavenge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void scavenge </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcell__t.html">cell_t</a>&#160;</td>
          <td class="paramname"><em>map</em>[D][D], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structperso__t.html">perso_t</a> *&#160;</td>
          <td class="paramname"><em>player</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structitem__t.html">item_t</a> *&#160;</td>
          <td class="paramname"><em>Tab_Items</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nb_items_available</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structquete__t.html">quete_t</a>&#160;</td>
          <td class="paramname"><em>quete</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Permet au joueur de fouiller l'hexagone sur lequel il se trouve pour récupérer des items. </p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">map[D][D]</td><td>Matrice de la carte </td></tr>
    <tr><td class="paramname">player</td><td>Pointeur sur un objet de type <a class="el" href="structperso__t.html" title="Structure pour un personnage. ">perso_t</a> correspondant au joueur </td></tr>
    <tr><td class="paramname">Tab_Items</td><td>Tableau contenant tous les items disponibles dans le jeu </td></tr>
    <tr><td class="paramname">nb_items_available</td><td>Nombre d'items disponibles dans le jeu </td></tr>
    <tr><td class="paramname">quete</td><td>Etat des quêtes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>Rien </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Généré par &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
